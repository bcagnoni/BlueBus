/*
 * File:   local.c
 * Author: Aliaksei Prybytkin <alexeypribytkin@gmail.com>
 * Description:
 *     Contains functionality for string localization
 */
#include "local.h"
 
char* ENGLISH[] = {
    "- Not Playing -",
    "About",
    "Audio",
    "Autoplay: Off",
    "Autoplay: On",
    "Back",
    "Blinkers: %d",
    "Bluetooth",
    "Built: %d/%d",
    "Calling",
    "Car: E3x/E53",
    "Car: E46/Z4",
    "Car: Unset",
    "Clear Pairings",
    "Comfort",
    "Dashboard",
    "Devices",
    "DSP: Analog",
    "DSP: Digital",
    "FW: %s",
    "Handsfree: Off",
    "Handsfree: On",
    "Lock: 10km/h",
    "Lock: 20km/h",
    "Lock: Off",
    "Main Menu",
    "Menu: Dashboard",
    "Menu: Main",
    "Metadata: Chunk",
    "Metadata: Off",
    "Metadata: Party",
    "Mic Bias: Off",
    "Mic Bias: On",
    "Mic Gain: %idB",
    "No Device",
    "Pairing: Off",
    "Pairing: On",
    "S/N: %u",
    "Settings",
    "Settings > About",
    "Settings > Audio",
    "Settings > Calling",
    "Settings > Comfort",
    "Settings > UI",
    "Temps: Coolant",
    "Temps: Off",
    "UI",
    "Unknown Album",
    "Unknown Artist",
    "Unknown Title",
    "Unlock: Off",
    "Unlock: Pos 0",
    "Unlock: Pos 1",
    "Volume: -%ddB",
    "Volume: +%ddB",
    "Volume: +24dB",
    "Volume: 0dB",
    "Apply",
    "Lang: English",
    "Lang: Russian"
};

char RUSSIAN[][24] = {
    {205,229,' ',226,238,241,239,240,238,232,231,226,238,228,232,242,241,255,0},
    {206,' ',239,240,238,227,240,224,236,236,229,0},
    {192,243,228,232,238,0},
    {192,226,242,238,226,238,241,239,':',' ',194,251,234,235,0},
    {192,226,242,238,226,238,241,239,':',' ',194,234,235,0},
    {205,224,231,224,228,0},
    {207,238,226,238,240,238,242,237,232,234,232,':',' ','%','d',0},
    {'B','l','u','e','t','o','o','t','h',0},
    {209,225,238,240,234,224,':',' ','%','d','/','%','d',0},
    {199,226,238,237,234,232,0},
    {202,243,231,238,226,':',' ','E','3','x','/','E','5','3',0},
    {202,243,231,238,226,':',' ','E','4','6','/','Z','4',0},
    {202,243,231,238,226,':',' ',205,229,243,241,242,0},
    {206,247,232,241,242,232,242,252,' ',241,226,255,231,232,0},
    {202,238,236,244,238,240,242,0},
    {206,225,231,238,240,237,238,229,' ',236,229,237,254,0},
    {211,241,242,240,238,233,241,242,226,224,0},
    {'D','S','P',':',' ',192,237,224,235,238,227,238,226,251,233,0},
    {'D','S','P',':',' ',214,232,244,240,238,226,238,233,0},
    {'F','W',':',' ','%','s',0},
    {195,240,' ',241,226,255,231,252,':',' ',194,251,234,235,0},
    {195,240,' ',241,226,255,231,252,':',' ',194,234,235,0},
    {199,224,234,240,':',' ','1','0',' ',234,236,'/',247,0},
    {199,224,234,240,':',' ','2','0',' ',234,236,'/',247,0},
    {199,224,234,240,':',' ',194,251,234,235,0},
    {195,235,224,226,237,238,229,' ',236,229,237,254,0},
    {204,229,237,254,':',' ',206,225,231,238,240,237,238,229,0},
    {204,229,237,254,':',' ',195,235,224,226,237,238,229,0},
    {204,'.',228,224,237,237,251,229,':',' ',215,224,241,242,252,0},
    {204,'.',228,224,237,237,251,229,':',' ',194,251,234,235,0},
    {204,'.',228,224,237,237,251,229,':',' ',193,229,227,0},
    {205,224,239,240,255,230,' ',236,232,234,':',' ',194,251,234,235,0},
    {205,224,239,240,255,230,' ',236,232,234,':',' ',194,234,235,0},
    {211,241,232,235,' ',236,232,234,240,':',' ','%','i','d','B',0},
    {205,229,242,' ',243,241,242,240,238,233,241,242,226,224,0},
    {209,238,239,240,255,230,':',' ',194,251,234,235,0},
    {209,238,239,240,255,230,':',' ',194,234,235,0},
    {'S','/','N',':',' ','%','u',0},
    {205,224,241,242,240,238,233,234,232,0},
    {205,224,241,242,240,238,233,234,232,' ','>',' ',206,' ',239,240,238,227,240,224,236,236,229,0},
    {205,224,241,242,240,238,233,234,232,' ','>',' ',192,243,228,232,238,0},
    {205,224,241,242,240,238,233,234,232,' ','>',' ',199,226,238,237,234,232,0},
    {205,224,241,242,240,238,233,234,232,' ','>',' ',202,238,236,244,238,240,242,0},
    {205,224,241,242,240,238,233,234,232,' ','>',' ',200,237,242,229,240,244,229,233,241,0},
    {210,229,236,239,'-',240,224,':',' ',206,198,0},
    {210,229,236,239,'-',240,224,':',' ',194,251,234,235,0},
    {200,237,242,229,240,244,229,233,241,0},
    {205,229,232,231,226,229,241,242,237,251,233,' ',224,235,252,225,238,236,0},
    {205,229,232,231,226,229,241,242,237,251,233,' ',232,241,239,238,235,237,232,242,229,235,252,0},
    {205,229,232,231,226,229,241,242,237,238,229,' ',237,224,231,226,224,237,232,229,0},
    {206,242,234,240,':',' ',194,251,234,235,0},
    {206,242,234,240,':',' ',207,238,235,238,230,' ','0',0},
    {206,242,234,240,':',' ',207,238,235,238,230,' ','1',0},
    {195,240,238,236,234,':',' ','-','%','d','d','B',0},
    {195,240,238,236,234,':',' ','+','%','d','d','B',0},
    {195,240,238,236,234,':',' ','+','2','4','d','B',0},
    {195,240,238,236,234,':',' ','0','d','B',0},
    {207,240,232,236,229,237,232,242,252,0},
    {223,231,251,234,':',' ','E','n','g','l','i','s','h',0},
    {223,231,251,234,':',' ',208,243,241,241,234,232,233,0}
};

char** LOCALIZATION_TABLE[] = {ENGLISH};

/**
 * GetText()
 *     Description:
 *         Gets localized string
 *     Params:
 *         uint16_t stringIndex - string identifier
 *     Returns:
 *         char *
 */
char * GetText(uint16_t stringIndex)
{
    unsigned char language = ConfigGetLanguage();
    if (language < CONFIG_SETTING_BMBT_LANGUAGE_ENGLISH ||
        language > CONFIG_SETTING_BMBT_LANGUAGE_RUSSIAN) {
        language = CONFIG_SETTING_BMBT_LANGUAGE_ENGLISH;
    }

    if (language == CONFIG_SETTING_BMBT_LANGUAGE_RUSSIAN) {
        return RUSSIAN[stringIndex];
    }

    return LOCALIZATION_TABLE[language - 0x01][stringIndex];
}
